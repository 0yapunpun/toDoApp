(()=>{"use strict";let e=(e,t)=>{let n=document.querySelector("#"+t+e),a=n.parentNode;n.classList.toggle("boxCheckStyle"),a.classList.toggle("boxCheckStyleParent")},t=()=>{if(!confirm("Are you sure you want to delete this task?"))return;let e=event.target.previousElementSibling.innerHTML,t=event.target.parentNode.parentNode.previousElementSibling.children[0].innerHTML,n=localStorage.getItem(t),a=JSON.parse(n);for(var l in"General"==t&&(n=localStorage.getItem("taskGeneral"),a=JSON.parse(n)),a)a[l]==e&&(delete a[l],"General"==t?localStorage.setItem("taskGeneral",JSON.stringify(a)):localStorage.setItem(t,JSON.stringify(a)));event.target.parentNode.remove()},n=n=>{let a=prompt("Write task");if(""==a)return void alert("Insert task description");if(null==a)return;let l=document.querySelector("#taskGeneralContainer"),d=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");d.classList.add("checkboxContainer"),r.classList.add("checkBox"),s.classList.add("deleteBox"),i.innerText+=a,s.innerText+="x",s.onclick=t,((e,t)=>{if(!(e in localStorage)){let t={};localStorage.setItem(e,JSON.stringify(t))}let n=localStorage.getItem(e),a=JSON.parse(n),l=Object.keys(a).length;if(0==l)return a.task1=t,void localStorage.setItem(e,JSON.stringify(a));a["task"+(l+1)]=t,localStorage.setItem(e,JSON.stringify(a))})(n,a),((t,n)=>{let a=localStorage.getItem(n),l=JSON.parse(a),d=Object.keys(l).length;if(1==d){let a=n+1;return t.id=a,t.addEventListener("click",e.bind(void 0,1,n)),t}{let a=n+d;t.id=a,t.addEventListener("click",e.bind(void 0,d,n))}})(r,n),d.appendChild(r),d.appendChild(i),d.appendChild(s),"taskGeneral"==n?l.appendChild(d):document.querySelector("#"+n).appendChild(d)},a=e=>{let t=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.querySelector(".overflowContent");t.classList.add("assignment"),a.classList.add("headerAssigment"),l.classList.add("assignmentName"),l.textContent=e,d.classList.add("addToDo"),i.classList.add("displayHoverTask"),r.classList.add("toDo"),d.textContent="+",i.textContent="Create new task",d.appendChild(i),d.onclick=n.bind(void 0,e),r.id=e,a.appendChild(l),a.appendChild(d),t.appendChild(a),t.appendChild(r),s.appendChild(t)},l=(n,a,l)=>{let d=document.querySelector("#taskGeneralContainer"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");i.classList.add("checkboxContainer"),s.classList.add("checkBox"),o.classList.add("deleteBox"),r.innerText+=a,o.innerText+="x",o.onclick=t,((t,n,a)=>{let l=localStorage.getItem(n),d=JSON.parse(l),i=(Object.keys(d).length,n+a);t.id=i,t.addEventListener("click",e.bind(void 0,a,n))})(s,n,l),i.appendChild(s),i.appendChild(r),i.appendChild(o),"taskGeneral"==n?d.appendChild(i):document.querySelector("#"+n).appendChild(i)};if(document.getElementById("createTaskbut").onclick=n.bind(void 0,"taskGeneral"),document.getElementById("createassigbut").onclick=()=>{let e=prompt("Write assignment");if(""==e)return void alert("Insert a name for the assigmnent");if(null==e)return;if(e in localStorage)return void alert("This assignment already exist");if(1==e.indexOf(" ")>=0)return void alert("The assignmet name should be a single expression with no spaces");{let t={};localStorage.setItem(e,JSON.stringify(t))}let t=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.querySelector(".overflowContent");t.classList.add("assignment"),a.classList.add("headerAssigment"),l.classList.add("assignmentName"),l.textContent=e,d.classList.add("addToDo"),i.classList.add("displayHoverTask"),r.classList.add("toDo"),d.textContent="+",i.textContent="Create new task",d.appendChild(i),d.onclick=n.bind(void 0,e),r.id=e,a.appendChild(l),a.appendChild(d),t.appendChild(a),t.appendChild(r),s.appendChild(t)},"taskGeneral"in localStorage){if("taskGeneral"in localStorage)for(let[e,t]of Object.entries(localStorage))if("taskGeneral"==e){let n=JSON.parse(t),a=0;for(let t in n)a+=1,l(e,n[t],a)}else{a(e);let n=JSON.parse(t),d=0;for(let t in n)d+=1,l(e,n[t],d)}}else{let e={};localStorage.setItem("taskGeneral",JSON.stringify(e))}})();