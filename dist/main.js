(()=>{"use strict";let e=(e,t)=>{let n=document.querySelector("#"+t+e),a=n.parentNode;n.classList.toggle("boxCheckStyle"),a.classList.toggle("boxCheckStyleParent")},t=()=>{if(!confirm("Are you sure you want to delete this task?"))return;let e=event.target.previousElementSibling.innerHTML,t=event.target.parentNode.parentNode.previousElementSibling.children[0].innerHTML,n=localStorage.getItem(t),a=JSON.parse(n);for(var d in"General"==t&&(n=localStorage.getItem("taskGeneral"),a=JSON.parse(n)),a)a[d]==e&&(delete a[d],"General"==t?localStorage.setItem("taskGeneral",JSON.stringify(a)):localStorage.setItem(t,JSON.stringify(a)));event.target.parentNode.remove()},n=()=>{if(!confirm("Are you sure you want to delete this assignment?"))return;let e=event.target.parentNode.children[0].children[0].innerHTML;localStorage.removeItem(e),event.target.parentNode.remove()},a=n=>{let a=prompt("Write task");if(""==a)return void alert("Insert task description");if(null==a)return;let d=document.querySelector("#taskGeneralContainer"),l=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");l.classList.add("checkboxContainer"),r.classList.add("checkBox"),s.classList.add("deleteBox"),i.innerText+=a,s.innerText+="x",s.onclick=t,((e,t)=>{if(!(e in localStorage)){let t={};localStorage.setItem(e,JSON.stringify(t))}let n=localStorage.getItem(e),a=JSON.parse(n),d=Object.keys(a).length;if(0==d)return a.task1=t,void localStorage.setItem(e,JSON.stringify(a));a["task"+(d+1)]=t,localStorage.setItem(e,JSON.stringify(a))})(n,a),((t,n)=>{let a=localStorage.getItem(n),d=JSON.parse(a),l=Object.keys(d).length;if(1==l){let a=n+1;return t.id=a,t.addEventListener("click",e.bind(void 0,1,n)),t}{let a=n+l;t.id=a,t.addEventListener("click",e.bind(void 0,l,n))}})(r,n),l.appendChild(r),l.appendChild(i),l.appendChild(s),"taskGeneral"==n?d.appendChild(l):document.querySelector("#"+n).appendChild(l)},d=e=>{let t=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.querySelector(".overflowContent"),c=document.createElement("div");t.classList.add("assignment"),d.classList.add("headerAssigment"),l.classList.add("assignmentName"),l.textContent=e,i.classList.add("addToDo"),r.classList.add("displayHoverTask"),s.classList.add("toDo"),c.classList.add("deleteAssignment"),c.innerText+="x",i.textContent="+",r.textContent="Create new task",i.appendChild(r),c.onclick=n,i.onclick=a.bind(void 0,e),s.id=e,d.appendChild(l),d.appendChild(i),t.appendChild(d),t.appendChild(s),t.appendChild(c),o.appendChild(t)},l=(n,a,d)=>{let l=document.querySelector("#taskGeneralContainer"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");i.classList.add("checkboxContainer"),s.classList.add("checkBox"),o.classList.add("deleteBox"),r.innerText+=a,o.innerText+="x",o.onclick=t,((t,n,a)=>{let d=localStorage.getItem(n),l=JSON.parse(d),i=(Object.keys(l).length,n+a);t.id=i,t.addEventListener("click",e.bind(void 0,a,n))})(s,n,d),i.appendChild(s),i.appendChild(r),i.appendChild(o),"taskGeneral"==n?l.appendChild(i):document.querySelector("#"+n).appendChild(i)};if(document.getElementById("createTaskbut").onclick=a.bind(void 0,"taskGeneral"),document.getElementById("createassigbut").onclick=()=>{let e=prompt("Write assignment");if(""==e)return void alert("Insert a name for the assigmnent");if(null==e)return;if(e in localStorage)return void alert("This assignment already exist");if(1==e.indexOf(" ")>=0)return void alert("The assignmet name should be a single expression with no spaces");{let t={};localStorage.setItem(e,JSON.stringify(t))}let t=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),o=document.querySelector(".overflowContent"),c=document.createElement("div");t.classList.add("assignment"),d.classList.add("headerAssigment"),l.classList.add("assignmentName"),l.textContent=e,i.classList.add("addToDo"),r.classList.add("displayHoverTask"),s.classList.add("toDo"),c.classList.add("deleteAssignment"),c.innerText+="x",c.onclick=n,i.textContent="+",r.textContent="Create new task",i.appendChild(r),i.onclick=a.bind(void 0,e),s.id=e,d.appendChild(l),d.appendChild(i),t.appendChild(d),t.appendChild(s),t.appendChild(c),o.appendChild(t)},"taskGeneral"in localStorage){if("taskGeneral"in localStorage)for(let[e,t]of Object.entries(localStorage))if("taskGeneral"==e){let n=JSON.parse(t),a=0;for(let t in n)a+=1,l(e,n[t],a)}else{d(e);let n=JSON.parse(t),a=0;for(let t in n)a+=1,l(e,n[t],a)}}else{let e={};localStorage.setItem("taskGeneral",JSON.stringify(e))}})();